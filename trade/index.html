<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binance Futures Precision Calc</title>
    <style>
        :root { --bg: #0b0e11; --card: #1e2329; --text: #eaecef; --primary: #fcd535; --long: #0ecb81; --short: #f6465d; --warn: #f0b90b; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); display: flex; justify-content: center; padding: 20px; }
        .calc-card { background: var(--card); padding: 25px; border-radius: 12px; width: 100%; max-width: 400px; border: 1px solid #333; }
        h2 { color: var(--primary); text-align: center; margin-top: 0; font-size: 1.4rem; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-size: 0.85rem; color: #848e9c; }
        input, select { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #474d57; background: #2b3139; color: #fff; box-sizing: border-box; }
        .btn-group { display: flex; gap: 10px; margin-top: 20px; }
        button { flex: 1; padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .btn-long { background: var(--long); color: #000; }
        .btn-short { background: var(--short); color: #fff; }
        .results { margin-top: 20px; padding-top: 15px; border-top: 1px solid #333; display: none; }
        .res-item { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.95rem; padding: 8px; background: #161a1e; border-radius: 4px; }
        .liq-warn { color: var(--warn); font-weight: bold; border: 1px solid var(--warn); }
        .val { font-weight: bold; }
        .up { color: var(--long); }
        .down { color: var(--short); }
    </style>
</head>
<body>

<div class="calc-card">
    <h2>Binance Futures Setup</h2>
    
    <div class="input-group">
        <label>Margin (Your Capital $)</label>
        <input type="number" id="margin" value="100">
    </div>

    <div class="input-group">
        <label>Leverage</label>
        <select id="leverage">
            <option value="20">20x</option>
            <option value="50" selected>50x</option>
            <option value="75">75x</option>
            <option value="100">100x</option>
        </select>
    </div>

    <div class="input-group">
        <label>Entry Price ($)</label>
        <input type="number" id="entry" placeholder="60000.00" step="0.01">
    </div>

    <div style="display: flex; gap: 10px;">
        <div class="input-group" style="flex: 1;">
            <label>TP % (on Margin)</label>
            <input type="number" id="tp_pct" value="50">
        </div>
        <div class="input-group" style="flex: 1;">
            <label>SL % (on Margin)</label>
            <input type="number" id="sl_pct" value="20">
        </div>
    </div>

    <div class="btn-group">
        <button class="btn-long" onclick="calc('long')">LONG</button>
        <button class="btn-short" onclick="calc('short')">SHORT</button>
    </div>

    <div class="results" id="results">
        <div class="res-item"><span>Position Value:</span> <span class="val" id="res-pos"></span></div>
        <div class="res-item liq-warn"><span>Est. Liquidation:</span> <span id="res-liq"></span></div>
        <div class="res-item"><span>TP Price:</span> <span class="val up" id="res-tp-price"></span></div>
        <div class="res-item"><span>SL Price:</span> <span class="val down" id="res-sl-price"></span></div>
        <div class="res-item"><span>Profit at TP:</span> <span class="val up" id="res-tp-usd"></span></div>
        <div class="res-item"><span>Loss at SL:</span> <span class="val down" id="res-sl-usd"></span></div>
    </div>
</div>

<script>
function calc(side) {
    const margin = parseFloat(document.getElementById('margin').value);
    const leverage = parseInt(document.getElementById('leverage').value);
    const entry = parseFloat(document.getElementById('entry').value);
    const tpP = parseFloat(document.getElementById('tp_pct').value) / 100;
    const slP = parseFloat(document.getElementById('sl_pct').value) / 100;

    if (!entry || !margin) return alert("Please enter Entry and Margin");

    const posSize = margin * leverage;
    const mmr = 0.004; // Maintenance Margin Rate (approx 0.4% for major pairs)
    
    let tp, sl, liq;

    if (side === 'long') {
        // Price required for target % = (Target% / Leverage) * Entry
        tp = entry * (1 + (tpP / leverage));
        sl = entry * (1 - (slP / leverage));
        // Liq Price = Entry * (1 - (1/Lev) + MMR)
        liq = entry * (1 - (1 / leverage) + mmr);
    } else {
        tp = entry * (1 - (tpP / leverage));
        sl = entry * (1 + (slP / leverage));
        // Liq Price = Entry * (1 + (1/Lev) - MMR)
        liq = entry * (1 + (1 / leverage) - mmr);
    }

    document.getElementById('res-pos').innerText = `$${posSize.toFixed(2)}`;
    document.getElementById('res-liq').innerText = `$${liq.toFixed(2)}`;
    document.getElementById('res-tp-price').innerText = `$${tp.toFixed(2)}`;
    document.getElementById('res-sl-price').innerText = `$${sl.toFixed(2)}`;
    document.getElementById('res-tp-usd').innerText = `+$${(margin * tpP).toFixed(2)}`;
    document.getElementById('res-sl-usd').innerText = `-$${(margin * slP).toFixed(2)}`;
    document.getElementById('results').style.display = 'block';
}
</script>
</body>
</html>
